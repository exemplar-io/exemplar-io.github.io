(this["webpackJsonppe-elastics-frontend"]=this["webpackJsonppe-elastics-frontend"]||[]).push([[0],{35:function(e,t,n){e.exports={loader:"Spinner_loader__fTuX5",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},51:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(33),a=n.n(c),i=(n(51),n(19)),s=n(2),l=n(6),d=n.n(l),u=n(14),j=n(9),h=n(34),b=n.n(h),p=function(){var e=Object(u.a)(d.a.mark((function e(t,n,o,r,c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/github/repo?msRepo=".concat(t,"&apiRepo=").concat(n,"&frontendRepo=").concat(o,"&rootRepo=").concat(r,"&token=").concat(c));case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,o,r,c){return e.apply(this,arguments)}}(),x=b.a.create({baseURL:"https://8eqbhzi5ay.eu-west-1.awsapprunner.com/"}),O=n(1),m=function(e){var t=e.title,n=e.onClick,o=e.disabled;return Object(O.jsx)("button",{className:"bg-primary-500 shadow hover:bg-primary-400 disabled:cursor-not-allowed disabled:bg-primary-500 focus:shadow-outline focus:outline-none text-secondary font-bold py-2 px-4 rounded",onClick:n,disabled:o,children:t})},f=function(e){var t=e.id,n=e.placeholder,o=e.error,r=e.value,c=e.onChange,a="border-primary-500";return o&&(a="border-error"),Object(O.jsx)("input",{className:"shadow appearance-none border-2 "+a+" rounded py-2 px-3 text-primary-500 leading-tight focus:outline-none focus:shadow-outline",id:t,type:"text",placeholder:n,value:r,onChange:c})},g=n(35),v=n.n(g),y=function(){return Object(O.jsx)("div",{className:v.a.loader})},w=n(13),N=function(){var e=Object(o.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(""),a=Object(j.a)(c,2),i=a[0],l=a[1],h=Object(o.useState)(""),b=Object(j.a)(h,2),g=b[0],v=b[1],N=Object(o.useState)(""),R=Object(j.a)(N,2),C=R[0],k=R[1],S=Object(o.useState)(""),_=Object(j.a)(S,2),F=_[0],L=_[1],P=Object(o.useState)(""),T=Object(j.a)(P,2),z=T[0],G=T[1],A=Object(o.useState)(""),I=Object(j.a)(A,2),E=I[0],U=I[1],B=Object(o.useState)(!1),D=Object(j.a)(B,2),J=D[0],M=D[1],Y=new URLSearchParams(Object(s.f)().search).get("code");Object(o.useEffect)((function(){Y&&function(e){return x.post("/github/auth",{githubCode:e}).then((function(e){return e.data}))}(Y).then((function(e){r(e)}))}),[Y]);var q=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(i,g,C,F,n).then((function(){U(""),G("")})).catch((function(){U("Oh no! One or more of the repositories could not be deleted! \ud83d\ude2e Please try again later")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("main",{className:"container mx-auto w-2/6 space-y-10 pb-20",children:[Object(O.jsx)("h1",{className:"text-secondary text-4xl",children:"Peareasy Elastics \ud83d\udd25"}),Object(O.jsx)("h3",{className:"text-secondary text-xl",children:"In order for us to be able to create an awesome project template for you, we need you to authorize your Github account with us."}),Object(O.jsx)("div",{children:Object(O.jsx)(m,{disabled:!!n,onClick:function(){return window.location.href="https://github.com/login/oauth/authorize?client_id=e78392cb4d38b6f34b4b&scope=repo delete_repo workflow"},title:n?"You have authorized Github \ud83c\udf89":"Authorize Github"})}),n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{className:"text-secondary text-xl",children:"Cool! The next step is to choose a root project name, a microservice repo name and a API gateway repo name \ud83d\ude0e"}),Object(O.jsxs)("div",{className:"space-y-3",children:[Object(O.jsx)("div",{hidden:!E,children:Object(O.jsx)("p",{className:"text-error text-xl",children:E})}),Object(O.jsx)("div",{children:Object(O.jsx)(f,{id:"rootRepoName",error:E,placeholder:"Root Repository name",value:F,onChange:function(e){U(""),L(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)(f,{id:"username",error:E,placeholder:"MS Repository name",value:i,onChange:function(e){U(""),l(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)(f,{id:"apiRepoName",error:E,placeholder:"Api Repository name",value:g,onChange:function(e){U(""),v(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)(f,{id:"frontendRepoName",error:E,placeholder:"Frontend Repository name",value:C,onChange:function(e){U(""),k(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)(m,{title:"Create Repositories",onClick:function(){M(!0),function(e,t,n,o,r){return console.log(e),console.log(o),console.log(r),x.post("/github/repo",{msRepoName:e,apiRepoName:t,frontendRepoName:n,rootRepoName:o,githubToken:r}).then((function(e){return e.data.rootUrl}))}(i,g,C,F,n).then((function(e){M(!1),G(e)})).catch((function(e){422===e.response.status&&U("Oh no! One or more of the repository names were already taken! \ud83d\ude2e Find a new name and try again!"),G(""),M(!1)}))},disabled:!n||!i})}),Object(O.jsx)("div",{children:Object(O.jsx)(m,{title:"Delete Repositories",onClick:q})}),Object(O.jsx)("div",{children:J?Object(O.jsx)(y,{}):null})]}),z?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"text-secondary text-xl",children:"Alright, this is it. Here's the link to your new Github repo! \ud83d\udc4a\ud83c\udffc"})}),Object(O.jsx)("div",{children:Object(O.jsx)(m,{title:"Open Root Repository",onClick:function(){return window.open(z)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"text-secondary text-xl",children:"To download the entire project, open a terminal and paste and execute the command below!"})}),Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{theme:w.b,text:"git clone --recurse-submodules -j8 ".concat(z),language:"shell",showLineNumbers:!1,startingLineNumber:1})}),Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"text-secondary text-xl",children:"Now navigate to the project folder and run the entire project!\ud83c\udf7e\ud83e\udd42\ud83e\udd73"})}),Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{theme:w.b,text:"cd ".concat(F," \n&& docker-compose up"),language:"shell",showLineNumbers:!1,startingLineNumber:1})})]}):null]}):null]})};var R=function(){return Object(O.jsx)("div",{className:"min-h-screen bg-gray-800 text-center pt-10",children:Object(O.jsx)(i.a,{children:Object(O.jsx)(s.c,{children:Object(O.jsx)(s.a,{path:"/",component:N})})})})},C=function(e){e&&e instanceof Function&&n.e(155).then(n.bind(null,269)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),C()}},[[83,152,153]]]);
//# sourceMappingURL=main.585ee520.chunk.js.map