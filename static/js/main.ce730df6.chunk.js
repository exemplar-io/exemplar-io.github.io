(this["webpackJsonppe-elastics-frontend"]=this["webpackJsonppe-elastics-frontend"]||[]).push([[0],{377:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),r=n(55),a=n.n(r),i=(n(68),n(10)),c=n(2),l=n(11),h=n.n(l),d=n(18),p=n(8),u=n(56),j=n.n(u),b=function(){var e=Object(d.a)(h.a.mark((function e(t,n){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/github/repo?projectName=".concat(t,"&token=").concat(n));case 2:return o=e.sent,console.log(o),e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=j.a.create({baseURL:"https://8eqbhzi5ay.eu-west-1.awsapprunner.com"}),m=n(0),f=function(e){var t=e.title,n=e.onClick,o=e.disabled;return Object(m.jsx)("button",{className:"bg-primary-500 shadow hover:bg-primary-400 disabled:cursor-not-allowed disabled:bg-primary-500 focus:shadow-outline focus:outline-none text-secondary font-bold py-2 px-4 rounded",onClick:n,disabled:o,children:t})},g=function(e){var t=e.id,n=e.placeholder,o=e.error,s=e.value,r=e.onChange,a="border-primary-500";return o&&(a="border-error"),Object(m.jsx)("input",{className:"shadow appearance-none border-2 "+a+" rounded py-2 px-3 text-primary-500 leading-tight focus:outline-none focus:shadow-outline",id:t,type:"text",placeholder:n,value:s,onChange:r})},y=n(57),w=n.n(y),O=function(){return Object(m.jsx)("div",{className:w.a.loader})},v=n(380),k=n(381),N=function(){var e=Object(o.useState)(""),t=Object(p.a)(e,2),n=t[0],s=t[1],r=Object(o.useState)(""),a=Object(p.a)(r,2),i=a[0],l=a[1],u=Object(o.useState)(""),j=Object(p.a)(u,2),y=j[0],w=j[1],N=Object(o.useState)(""),T=Object(p.a)(N,2),_=T[0],C=T[1],S=Object(o.useState)(!1),A=Object(p.a)(S,2),R=A[0],E=A[1],I=new URLSearchParams(Object(c.f)().search).get("code");Object(o.useEffect)((function(){I&&function(e){return x.post("/github/auth",{githubCode:e}).then((function(e){return console.log(e.data),e.data}))}(I).then((function(e){s(e)}))}),[I]);var P=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(i,n).then((function(){C(""),w("")})).catch((function(){C("Oh no! One or more of the repositories could not be deleted! \ud83d\ude2e Please try again later")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("main",{className:"container mx-auto w-2/6 space-y-10 pb-20 pt-20",children:[Object(m.jsx)("h1",{className:"text-secondary text-4xl",children:"Exemplar \ud83d\udd25"}),Object(m.jsx)("h3",{className:"text-secondary text-xl",children:"In order for us to be able to create an awesome project template for you, we need you to authorize your Github account with us."}),Object(m.jsx)("div",{children:Object(m.jsx)(f,{disabled:!!n,onClick:function(){return window.location.href="https://github.com/login/oauth/authorize?client_id=e78392cb4d38b6f34b4b&scope=repo delete_repo workflow"},title:n?"You have authorized Github \ud83c\udf89":"Authorize Github"})}),n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{className:"text-secondary text-xl",children:"Cool! The next step is to choose a project name \ud83d\ude0e"}),Object(m.jsxs)("div",{className:"space-y-3",children:[Object(m.jsx)("div",{hidden:!_,children:Object(m.jsx)("p",{className:"text-error text-xl",children:_})}),Object(m.jsx)("div",{children:Object(m.jsx)(g,{id:"projectName",error:_,placeholder:"Project name",value:i,onChange:function(e){C(""),l(e.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)(f,{title:"Create Repositories",onClick:function(){E(!0),function(e,t){return x.post("/github/repo",{projectName:e,githubToken:t}).then((function(e){return e.data.rootUrl}))}(i,n).then((function(e){E(!1),w(e)})).catch((function(e){422===e.response.status&&C("Oh no! Project name was already occupied on your Github account! \ud83d\ude2e Find a new name and try again!"),w(""),E(!1)}))},disabled:!n||!i})}),"dev"===Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_CLIENT_ID:"e78392cb4d38b6f34b4b",REACT_APP_BACKEND_BASE_URL:"https://8eqbhzi5ay.eu-west-1.awsapprunner.com"}).REACT_APP_ENVIRONMENT?Object(m.jsx)("div",{children:Object(m.jsx)(f,{title:"Delete Repositories",onClick:P})}):Object(m.jsx)("div",{}),Object(m.jsx)("div",{children:R?Object(m.jsx)(O,{}):null})]}),y?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-secondary text-xl",children:"Alright, this is it. Here's the link to your new Github repo! \ud83d\udc4a\ud83c\udffc"})}),Object(m.jsx)("div",{children:Object(m.jsx)(f,{title:"Open Root Repository",onClick:function(){return window.open(y)}})}),Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-secondary text-xl",children:"To download the entire project, open a terminal, paste and run the command below!"})}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{language:"shell",style:v.a,showLineNumbers:!0,children:"git clone --recurse-submodules -j8 ".concat(y)})}),Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-secondary text-xl",children:"Now navigate to the project folder and run the entire project!\ud83c\udf7e\ud83e\udd42\ud83e\udd73"})}),Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{language:"shell",style:v.a,showLineNumbers:!0,children:"cd ".concat(i," && docker-compose up")})})]}):null]}):null]})},T=function(){return Object(m.jsxs)("div",{className:"h-screen w-1/6 ml-0 pt-20 top-0 fixed bg-gray-700 flex flex-col space-y-3",children:[Object(m.jsxs)("div",{className:"flex flex-col space-y-3 bg-gray-600 rounded p-4",children:[Object(m.jsx)("a",{className:"sticky text-secondary font-medium text-xl",href:"#introduction",children:"Introduction"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#how-does-it-work",children:"How does it work?"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#tech-stack",children:"Tech stack"})]}),Object(m.jsxs)("div",{className:"flex flex-col space-y-3 bg-gray-600 rounded p-4",children:[Object(m.jsx)("a",{className:"sticky text-secondary font-medium text-xl",href:"#whats-generated",children:"What's generated"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#root-repository",children:"Root repository"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#frontend-repository",children:"Frontend repository"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#api-repository",children:"Api repository"}),Object(m.jsx)("a",{className:"sticky text-secondary text-m font-light",href:"#user-ms-repository",children:"User ms repository"})]})]})},_=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{}),Object(m.jsxs)("main",{className:"container mx-auto w-1/2 space-y-5 pb-10 pt-10 text-secondary text-left",children:[Object(m.jsx)("h1",{className:"text-4xl",id:"introduction",children:"Introduction"}),Object(m.jsx)("p",{className:"text-m",children:"For a developer, setting up a new project from scratch can be a di\ufb00icult task. The developer has to come up with a good overall design and architecture, while also choosing which tech stacks to use. By picking the correct choices from the beginning, a lot of time spent refactoring code in the future can be mitigated and the focus of the developer can be on developing cool features instead!"}),Object(m.jsx)("p",{className:"text-m",children:"Pear is a framework with the intention to help developers build full stack software solutions, by providing an out-of-the-box template to generate a project, with a frontend, backend consisting of microservices, message queue and a DevOps setup with pipelines for automatic testing and deployment. The motivation behind this is to ensure a software project doesn't run in to scalability issues, security issues and in general help the project evolving in a direction that satisfy both short-term, but especially long-term requirements. From the rest of the documentation page, we will use the name Orange to specify, that we are talking about the generated project."}),Object(m.jsx)("h2",{className:"text-2xl",id:"how-does-it-work",children:"How does it work?"}),Object(m.jsx)("p",{className:"text-m",children:"Imagine you, a developer, wants to start a new project. What would be the first steps you take? Probably picking an adequate frontend and backend technology and create a Git repository to utilise version control. By looking at the diagram, the idea behind Pear is, that you are asked to authorise your Github account and choose a project name and a project is generated for you, with a frontend application, a message queue and two microservices."}),Object(m.jsx)("img",{src:"/frontend/docs/overview.png",alt:"overview",className:"w-3/4 m-auto"}),Object(m.jsx)("h2",{className:"text-2xl",id:"tech-stack",children:"Tech stack"}),Object(m.jsxs)("p",{className:"text-m",children:["In this section the generated tech stack will briefly be mentioned, and later on a more in-depth walk-through of Orange will be introduced.",Object(m.jsx)("span",{className:"font-bold",children:" All"})," of the following applications are dockerized"]}),Object(m.jsxs)("ul",{className:"list-disc",children:[Object(m.jsx)("li",{children:"The frontend application is a React application with Typescript"}),Object(m.jsx)("li",{children:"The microservices are Nestjs applications with Typescript"}),Object(m.jsx)("li",{children:"A RabbitMQ which is already setup and both microservices use"}),Object(m.jsx)("li",{children:"Git modules with the frontend application and two microservice applications in a root repository"}),Object(m.jsx)("li",{children:"Docker-compose that spins up the whole system, so development can start immediately"})]}),Object(m.jsx)("h1",{className:"text-4xl",id:"whats-generated",children:"What's generated"}),Object(m.jsx)("p",{className:"text-secondary text-m text-left",children:'So what exactly happens after you click the button "Generate project"? In this section we\'ll cover the the different components that we generate for you.'}),Object(m.jsx)("h2",{className:"text-2xl",id:"root-repository",children:"Root repository"}),Object(m.jsxs)("p",{className:"text-m",children:["When we are done generating the code for you, you will be presented with a link to the root repository. This will look similar to the screenshot seen below. The root project will be a stand alone Github repository which contains references to all the repositories we have generated. The different references are so called"," ",Object(m.jsx)("a",{href:"https://git-scm.com/book/en/v2/Git-Tools-Submodules",target:"_blank",children:"submodules"}),". Which are basically just links to other stand alone repositories - but it allows you to clone (download) the entire project in one go!"]}),Object(m.jsxs)("p",{children:["Apart from the submodule references, the root project also contains a",Object(m.jsxs)("a",{href:"https://docs.docker.com/compose/",target:"_blank",children:[" ","docker-compose"]})," ",'file. With this file, after you\'ve downloaded the project, you can spin up the entire thing with the command docker-compose up. To allow for this, we have wrapped each component of the project in a container with a Dockerfile. But more about this in the "Workflow" section.']}),Object(m.jsx)("img",{src:"/frontend/docs/root.png",alt:"overview",className:"w-3/4 m-auto"}),Object(m.jsx)("h2",{className:"text-2xl",id:"frontend-repository",children:"Frontend repository"}),Object(m.jsxs)("p",{className:"text-m",children:["So, the most flashy part of your newly generated project is definitely the frontend. This repository has the code for an entire web application developed in"," ",Object(m.jsx)("a",{href:"https://reactjs.org/",target:"_blank",children:"ReactJS"}),"! We have chosen to use"," ",Object(m.jsx)("a",{href:"https://www.typescriptlang.org/",target:"_blank",children:"Typescript"})," ","as the development language for the web application, but you can also develop ReactJS web apps in Javascript."]}),Object(m.jsx)("p",{className:"text-m",children:"Just like all the other repositories we generate for you, we have wrapped the frontend in a docker container. The configurations for the docker container can be found in the Dockerfile - it allows you to run the frontend in pretty much any environment, abstracting away the OS details of the specific environment you're in."}),Object(m.jsx)("p",{className:"text-m",children:"From the get go, the frontend contains a simple login component, that allows the user to authenticate themselves with a username and a password. When you log in, the web application actually communicates with the backend which is divided into two repositories. The Api repository and the MS repository."}),Object(m.jsx)("h2",{className:"text-2xl",id:"api-repository",children:"Api repository"}),Object(m.jsxs)("p",{className:"text-m",children:["The Api repository is the gateway into your backend. It's a standalone",Object(m.jsxs)("a",{href:"https://nestjs.com/",target:"_blank",children:[" ","nestJS project"]})," ","written in Typescript, which serves the API to the outside world - and in this case it serves the frontend web application we generated for you. In this project you write the different endpoints you want to have for your backend. To allow the user to login we have already created a /login endpoint, which expects a username and a password as input. These details will be forwarded to the relevant microservice through a RabbitMQ message queue. In the case of the login endpoint the relevant microservice is the user microservice, which has its own standalone repository - the user-ms repository which is up next!"]}),Object(m.jsx)("h2",{className:"text-2xl",id:"user-ms-repository",children:"User ms repository"}),Object(m.jsxs)("p",{className:"text-m",children:["The user-ms repository is the microservice dedicated to handling everything regarding the users of your application. Just like the Api repository, this is a NestJS project written in Typescript. Instead of hosting Rest endpoint, it listens to the RabbitMQ message queue for messages. From the get go we have set it up to listen for a login message, with login credentials. When a login message is received it checks an in-memory database with users, to see if the credentials match. If the credentials match, a Json Web Token is generated and sent back through the RabbitMQ message queue. Using JWTs for authentication is a very popular and highly scalable method of implementing authentication - you can read a lot more about it on the",Object(m.jsxs)("a",{href:"https://jwt.io/",target:"_blank",children:[" ","jwt.io"," "]}),"website."]})]})]})},C=function(){return Object(m.jsx)(m.Fragment,{})},S=function(e){var t=e.link,n=e.onClick,o=e.children;return Object(m.jsx)(i.b,{to:t,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-secondary hover:opacity-75",onClick:n,children:Object(m.jsx)("span",{className:"ml-2",children:o})})},A=function(e){var t=e.link,n=e.children;return Object(m.jsx)("button",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-secondary hover:opacity-75",onClick:function(){return window.open(t)},children:Object(m.jsx)("span",{className:"ml-2",children:n})})},R=Object(m.jsx)("svg",{fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px",children:Object(m.jsx)("path",{d:"M 3 7 A 1.0001 1.0001 0 1 0 3 9 L 27 9 A 1.0001 1.0001 0 1 0 27 7 L 3 7 z M 3 14 A 1.0001 1.0001 0 1 0 3 16 L 27 16 A 1.0001 1.0001 0 1 0 27 14 L 3 14 z M 3 21 A 1.0001 1.0001 0 1 0 3 23 L 27 23 A 1.0001 1.0001 0 1 0 27 21 L 3 21 z"})}),E=function(){var e=s.a.useState(!1),t=Object(p.a)(e,2),n=t[0],o=t[1];return Object(m.jsx)("nav",{className:"sticky w-full flex flex-wrap items-center justify-between px-2 py-3 h-16 z-10",children:Object(m.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(m.jsxs)("div",{className:"w-full flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(m.jsx)(i.b,{className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-secondary",to:"/",children:"Exemplar"}),Object(m.jsx)("button",{className:"text-secondary cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return o(!n)},children:R})]}),Object(m.jsx)("div",{className:"lg:flex flex-grow items-center"+(n?" flex":" hidden"),id:"example-navbar-danger",children:Object(m.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(m.jsx)(S,{link:"/docs",onClick:function(){return o(!n)},children:"docs"}),Object(m.jsx)(S,{link:"/about",onClick:function(){return o(!n)},children:"about"}),Object(m.jsx)(A,{link:"https://github.com/peareasy-elastics",children:"github"})]})})]})})};var I=function(){return Object(m.jsx)("div",{className:"min-h-screen text-center bg-cover bg-center bg-cover bg-wave",children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(E,{}),Object(m.jsx)("div",{children:Object(m.jsxs)(c.c,{children:[Object(m.jsx)(c.a,{path:"/docs",component:_}),Object(m.jsx)(c.a,{path:"/about",component:C}),Object(m.jsx)(c.a,{path:"/",component:N})]})})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),s(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),P()},57:function(e,t,n){e.exports={loader:"Spinner_loader__fTuX5",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},68:function(e,t,n){}},[[377,1,2]]]);
//# sourceMappingURL=main.ce730df6.chunk.js.map